---
import SectionContainer from "../../shared/SectionContainer.astro";
import Experience from "./ui/Experience.vue";
import { experiences as esExperiences } from "../../../data/es/experiences";
import { experiences as enExperiences } from "../../../data/en/experiences";

import { initTranslations } from "../../../i18n/initTranslations";

const { t, lang } = initTranslations(Astro);

function getTechsByLang(lang: string) {
  if (lang === "es") {
    return esExperiences;
  } else if (lang === "en") {
    return enExperiences;
  } else {
    return enExperiences;
  }
}

const currentExperencies = getTechsByLang(lang);
---

<SectionContainer
  title={t("section.experienceTitle")}
  idSection="work_experience"
>
  <Experience client:load experiences={currentExperencies} />
</SectionContainer>
