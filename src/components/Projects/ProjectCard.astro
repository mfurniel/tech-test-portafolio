---
import { Image } from "astro:assets";
import githubIImage from "../../../public/icons/github.svg";
import linkIcon from "../../../public/icons/link.svg";

export interface Props {
  title: string;
  description: string;
  image: ImageMetadata;
  bgColor?: string;
  overlayColor?: string;
  projectLink?: string;
  githubLink?: string;
  techs?: string[];
}

const {
  title,
  description,
  image,
  bgColor = "bg-gray-400",
  overlayColor = "bg-gray-400",
  projectLink,
  githubLink,
  techs,
} = Astro.props;
---

<div
  class={`relative group w-[350px] h-[350px] overflow-hidden ${bgColor} rounded-4xl shadow-md`}
>
  <Image src={image} alt={title} class="h-full w-full object-contain p-4" />
  <div
    class={`absolute inset-0 flex flex-col pl-6 pr-6 ${overlayColor} bg-opacity-80 opacity-0 group-hover:opacity-100 group-hover:translate-y-0 group-hover:scale-100 transition-all duration-500 ease-in-out transform`}
  >
    <div
      class="mb-4 opacity-0 transition-all duration-500 ease-in-out group-hover:translate-x-4 group-hover:opacity-100"
    >
      <ul
        class="flex w-min gap-4 rounded-br-xl rounded-bl-xl bg-red-500 pr-4 pl-4"
      >
        {
          techs?.map((tech) => (
            <li class="text-md pt-2 font-semibold text-white">{tech}</li>
          ))
        }
      </ul>
    </div>

    <div
      class="flex flex-grow flex-col opacity-0 transition-all duration-500 ease-in-out group-hover:translate-y-4 group-hover:opacity-100"
    >
      <h1 class="mb-4 text-left text-2xl font-semibold text-white">{title}</h1>
      <p class="text-md font-semibold text-white">{description}</p>
    </div>

    <div class="mb-4 flex justify-end gap-4">
      {
        projectLink ? (
          <a href={projectLink} target="_blank" rel="noopener noreferrer">
            <Image
              src={linkIcon}
              alt="Link Icon"
              class="h-10 w-10 rounded-full bg-yellow-300 p-2"
            />
          </a>
        ) : (
          <div class="h-10" />
        )
      }
      {
        githubLink ? (
          <a href={githubLink} target="_blank" rel="noopener noreferrer">
            <Image
              src={githubIImage}
              alt="GitHub Icon"
              class="h-10 w-10 rounded-full bg-yellow-300 p-2"
            />
          </a>
        ) : (
          <div class="h-10" />
        )
      }
    </div>
  </div>
</div>
